{"ast":null,"code":"const path = require('path');\n\nconst DOMParser = require('xmldom').DOMParser;\n\nconst axios = require('axios');\n\nconst stat_endpoints = require('./data/endpoints.json');\n\nconst teams = require('./data/teams.json');\n\nconst players = require('./data/players.json');\n\nconst jsonp = require('jsonp');\n\nvar default_options = {\n  formatted: true,\n  parameters: false\n};\n\ngenerateURL = (params, endpoint) => {\n  var values = { ...stat_endpoints[endpoint].params,\n    ...params\n  };\n  var url = stat_endpoints[endpoint].url + \"?\";\n  var param_names = Object.keys(values);\n\n  for (var i = 0; i < param_names.length; i++) {\n    url = url + param_names[i] + \"=\" + values[param_names[i]] + \"&\";\n  }\n\n  return url;\n};\n\nformatData = (json, options) => {\n  var data = {};\n  var parameters = json.parameters;\n\n  if (options.formatted) {\n    var result_set = json.resultSets;\n\n    for (i in result_set) {\n      var merged = {};\n\n      if (result_set[i].rowSet.length !== 1) {\n        var multipleRowSets = {};\n\n        for (j in result_set[i].rowSet) {\n          var temp = {};\n\n          for (k in result_set[i].headers) {\n            temp[result_set[i].headers[k]] = result_set[i].rowSet[j][k];\n          }\n\n          multipleRowSets[j] = temp;\n        }\n\n        data[result_set[i].name] = multipleRowSets;\n      } else {\n        for (j in result_set[i].headers) {\n          merged[result_set[i].headers[j]] = result_set[i].rowSet[0][j];\n        }\n\n        data[result_set[i].name] = merged;\n      }\n    }\n  } else data = json;\n\n  if (options.parameters) return {\n    data,\n    parameters\n  };else return data;\n};\n\ngetDataFromNBA = (params, endpoint, options) => {\n  var headers = {\n    'Host': 'stats.nba.com',\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0',\n    'Accept': 'application/json, text/plain, */*',\n    'Accept-Language': 'en-US,en;q=0.5',\n    'Referer': 'https://stats.nba.com/',\n    'Accept-Encoding': 'gzip, deflate, br',\n    'Connection': 'keep-alive',\n    'x-nba-stats-origin': 'stats',\n    'x-nba-stats-token': 'true'\n  };\n  var url = generateURL(params, endpoint);\n  return new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined') {\n      axios.get(url, {\n        headers\n      }).then(function (res) {\n        resolve(formatData(res.data, options));\n      }).catch(function (err) {\n        reject(err);\n      });\n    } else {\n      jsonp(url, null, (err, data) => {\n        if (!err) resolve(formatData(data, options));else reject(err);\n      });\n    }\n  });\n};\n\nmodule.exports = {\n  teamDetails: function (params, options) {\n    return getDataFromNBA(params, \"team_details\", { ...default_options,\n      ...options\n    });\n  },\n  teamRoster: function (params, options) {\n    return getDataFromNBA(params, \"team_roster\", { ...default_options,\n      ...options\n    });\n  },\n  leagueTeamTrackingShots: function (params, options) {\n    return getDataFromNBA(params, \"league_team_tracking_shots\", { ...default_options,\n      ...options\n    });\n  },\n  leagueTeamGeneralStats: function (params, options) {\n    return getDataFromNBA(params, \"league_team_general_stats\", { ...default_options,\n      ...options\n    });\n  },\n  allPlayersList: function (params, options) {\n    return getDataFromNBA(params, \"all_players_list\", { ...default_options,\n      ...options\n    });\n  },\n  franchiseLeaders: function (params, options) {\n    return getDataFromNBA(params, \"franchise_leaders\", { ...default_options,\n      ...options\n    });\n  },\n  franchiseLeadersRank: function (params, options) {\n    return getDataFromNBA(params, \"franchise_leaders_rank\", { ...default_options,\n      ...options\n    });\n  },\n  teamGeneralSplits: function (params, options) {\n    return getDataFromNBA(params, \"team_general_splits\", { ...default_options,\n      ...options\n    });\n  },\n  teamYearSplits: function (params, options) {\n    return getDataFromNBA(params, \"team_year_splits\", { ...default_options,\n      ...options\n    });\n  },\n  teamPerformanceSplits: function (params, options) {\n    return getDataFromNBA(params, \"team_performance_splits\", { ...default_options,\n      ...options\n    });\n  },\n  teamClutchSplits: function (params, options) {\n    return getDataFromNBA(params, \"team_clutch_splits\", { ...default_options,\n      ...options\n    });\n  },\n  teamInGameSplits: function (params, options) {\n    return getDataFromNBA(params, \"team_in_game_splits\", { ...default_options,\n      ...options\n    });\n  },\n  teamLastNGamesSplits: function (params, options) {\n    return getDataFromNBA(params, \"team_lastngames_splits\", { ...default_options,\n      ...options\n    });\n  },\n  teamOpponentSplits: function (params, options) {\n    return getDataFromNBA(params, \"team_opponent_splits\", { ...default_options,\n      ...options\n    });\n  },\n  teamShootingSplits: function (params, options) {\n    return getDataFromNBA(params, \"team_shooting_splits\", { ...default_options,\n      ...options\n    });\n  },\n  teamLineups: function (params, options) {\n    return getDataFromNBA(params, \"team_lineups\", { ...default_options,\n      ...options\n    });\n  },\n  teamPlayerStats: function (params, options) {\n    return getDataFromNBA(params, \"team_player_stats\", { ...default_options,\n      ...options\n    });\n  },\n  teamPlayerOnOffDetails: function (params, options) {\n    return getDataFromNBA(params, \"team_player_on_off_details\", { ...default_options,\n      ...options\n    });\n  },\n  teamPlayerOnOffRatings: function (params, options) {\n    return getDataFromNBA(params, \"team_player_on_off_ratings\", { ...default_options,\n      ...options\n    });\n  },\n  teamTrackingShots: function (params, options) {\n    return getDataFromNBA(params, \"team_tracking_shots\", { ...default_options,\n      ...options\n    });\n  },\n  teamTrackingReb: function (params, options) {\n    return getDataFromNBA(params, \"team_tracking_reb\", { ...default_options,\n      ...options\n    });\n  },\n  teamTrackingPasses: function (params, options) {\n    return getDataFromNBA(params, \"team_tracking_passes\", { ...default_options,\n      ...options\n    });\n  },\n  teamBoxScoresTraditional: function (params, options) {\n    return getDataFromNBA(params, \"team_box_scores_traditional\", { ...default_options,\n      ...options\n    });\n  },\n  teamBoxScoresAdvanced: function (params, options) {\n    return getDataFromNBA(params, \"team_box_scores_advanced\", { ...default_options,\n      ...options\n    });\n  },\n  teamYearByYearStats: function (params, options) {\n    return getDataFromNBA(params, \"team_year_by_year_stats\", { ...default_options,\n      ...options\n    });\n  },\n  teamPlayerMatchups: function (params, options) {\n    return getDataFromNBA(params, \"team_player_matchups\", { ...default_options,\n      ...options\n    });\n  },\n  leagueTeamDefenseStats: function (params, options) {\n    return getDataFromNBA(params, \"league_team_defense_stats\", { ...default_options,\n      ...options\n    });\n  },\n  leagueTeamShootingStats: function (params, options) {\n    return getDataFromNBA(params, \"league_team_shooting_stats\", { ...default_options,\n      ...options\n    });\n  },\n  leagueTeamOpponentShooting: function (params, options) {\n    return getDataFromNBA(params, \"league_team_opponent_shooting\", { ...default_options,\n      ...options\n    });\n  },\n  leagueTeamHustleStats: function (params, options) {\n    return getDataFromNBA(params, \"league_team_hustle_stats\", { ...default_options,\n      ...options\n    });\n  },\n  leagueTeamEstimatedAdvancedStats: function (params, options) {\n    return getDataFromNBA(params, \"league_team_estimated_advanced_stats\", { ...default_options,\n      ...options\n    });\n  },\n  leagueTeamClutchStats: function (params, options) {\n    return getDataFromNBA(params, \"league_team_clutch_stats\", { ...default_options,\n      ...options\n    });\n  },\n  leaguePlayerGeneralStats: function (params, options) {\n    return getDataFromNBA(params, \"league_player_general_stats\", { ...default_options,\n      ...options\n    });\n  },\n  leaguePlayerEstimatedAdvancedStats: function (params, options) {\n    return getDataFromNBA(params, \"league_player_estimated_advanced_stats\", { ...default_options,\n      ...options\n    });\n  },\n  leaguePlayerClutchStats: function (params, options) {\n    return getDataFromNBA(params, \"league_player_clutch_stats\", { ...default_options,\n      ...options\n    });\n  },\n  leaguePlayerTrackingStats: function (params, options) {\n    return getDataFromNBA(params, \"league_player_tracking_stats\", { ...default_options,\n      ...options\n    });\n  },\n  leaguePlayerShootingDefense: function (params, options) {\n    return getDataFromNBA(params, \"league_player_shooting_defense\", { ...default_options,\n      ...options\n    });\n  },\n  leaguePlayerTrackingShooting: function (params, options) {\n    return getDataFromNBA(params, \"league_player_tracking_shooting\", { ...default_options,\n      ...options\n    });\n  },\n  leaguePlayerBoxScoresTraditional: function (params, options) {\n    return getDataFromNBA(params, \"league_player_box_scores_traditional\", { ...default_options,\n      ...options\n    });\n  },\n  leaguePlayerBoxScoresAdvanced: function (params, options) {\n    return getDataFromNBA(params, \"league_player_box_scores_advanced\", { ...default_options,\n      ...options\n    });\n  },\n  leaguePlayerShotLocations: function (params, options) {\n    return getDataFromNBA(params, \"league_player_shot_locations\", { ...default_options,\n      ...options\n    });\n  },\n  leaguePlayerShotLocationDefense: function (params, options) {\n    return getDataFromNBA(params, \"league_player_shot_location_defense\", { ...default_options,\n      ...options\n    });\n  },\n  leaguePlayerHustleStats: function (params, options) {\n    return getDataFromNBA(params, \"league_player_hustle_stats\", { ...default_options,\n      ...options\n    });\n  },\n  leaguePlayerBioStats: function (params, options) {\n    return getDataFromNBA(params, \"league_player_bio_stats\", { ...default_options,\n      ...options\n    });\n  },\n  scoreboard: function (params, options) {\n    return getDataFromNBA(params, \"scoreboard\", { ...default_options,\n      ...options\n    });\n  },\n  boxScoreTraditional: function (params, options) {\n    return getDataFromNBA(params, \"box_score_traditional\", { ...default_options,\n      ...options\n    });\n  },\n  boxScoreAdvanced: function (params, options) {\n    return getDataFromNBA(params, \"box_score_advanced\", { ...default_options,\n      ...options\n    });\n  },\n  boxScoreSummary: function (params, options) {\n    return getDataFromNBA(params, \"box_score_summary\", { ...default_options,\n      ...options\n    });\n  },\n  boxScoreScoring: function (params, options) {\n    return getDataFromNBA(params, \"box_score_scoring\", { ...default_options,\n      ...options\n    });\n  },\n  boxScoreMisc: function (params, options) {\n    return getDataFromNBA(params, \"box_score_misc\", { ...default_options,\n      ...options\n    });\n  },\n  boxScoreUsage: function (params, options) {\n    return getDataFromNBA(params, \"box_score_usage\", { ...default_options,\n      ...options\n    });\n  },\n  boxScoreFourFactors: function (params, options) {\n    return getDataFromNBA(params, \"box_score_four_factors\", { ...default_options,\n      ...options\n    });\n  },\n  boxScorePlayerTracking: function (params, options) {\n    return getDataFromNBA(params, \"box_score_player_tracking\", { ...default_options,\n      ...options\n    });\n  },\n  boxScoreHustle: function (params, options) {\n    return getDataFromNBA(params, \"box_score_hustle\", { ...default_options,\n      ...options\n    });\n  },\n  boxScoreDefense: function (params, options) {\n    return getDataFromNBA(params, \"box_score_defense\", { ...default_options,\n      ...options\n    });\n  },\n  boxScoreMatchups: function (params, options) {\n    return getDataFromNBA(params, \"box_score_matchups\", { ...default_options,\n      ...options\n    });\n  },\n  playByPlay: function (params, options) {\n    return getDataFromNBA(params, \"play_by_play\", { ...default_options,\n      ...options\n    });\n  },\n  winProbability: function (params, options) {\n    return getDataFromNBA(params, \"win_probability\", { ...default_options,\n      ...options\n    });\n  },\n  infographicFanduelPlayer: function (params, options) {\n    return getDataFromNBA(params, \"infographic_fanduel_player\", { ...default_options,\n      ...options\n    });\n  },\n  leagueStandings: function (params, options) {\n    return getDataFromNBA(params, \"league_standings\", { ...default_options,\n      ...options\n    });\n  },\n  draftHistory: function (params, options) {\n    return getDataFromNBA(params, \"draft_history\", { ...default_options,\n      ...options\n    });\n  },\n  draftCombineSpotUpShooting: function (params, options) {\n    return getDataFromNBA(params, \"draft_combine_spot_up_shooting\", { ...default_options,\n      ...options\n    });\n  },\n  draftCombineNonStationaryShooting: function (params, options) {\n    return getDataFromNBA(params, \"draft_combine_nonstationary_shooting\", { ...default_options,\n      ...options\n    });\n  },\n  draftCombineDrillResults: function (params, options) {\n    return getDataFromNBA(params, \"draft_combine_drill_results\", { ...default_options,\n      ...options\n    });\n  },\n  draftCombinePlayerAnthro: function (params, options) {\n    return getDataFromNBA(params, \"draft_combine_player_anthro\", { ...default_options,\n      ...options\n    });\n  },\n  franchiseHistory: function (params, options) {\n    return getDataFromNBA(params, \"franchise_history\", { ...default_options,\n      ...options\n    });\n  },\n  playerGameStreakFinder: function (params, options) {\n    return getDataFromNBA(params, \"player_game_streak_finder\", { ...default_options,\n      ...options\n    });\n  },\n  teamGameStreakFinder: function (params, options) {\n    return getDataFromNBA(params, \"team_game_streak_finder\", { ...default_options,\n      ...options\n    });\n  },\n  leagueGameFinder: function (params, options) {\n    return getDataFromNBA(params, \"league_game_finder\", { ...default_options,\n      ...options\n    });\n  },\n  playerSplitsByYear: function (params, options) {\n    return getDataFromNBA(params, \"player_splits_by_year\", { ...default_options,\n      ...options\n    });\n  },\n  playerSplits: function (params, options) {\n    return getDataFromNBA(params, \"player_splits\", { ...default_options,\n      ...options\n    });\n  },\n  playerCareerStats: function (params, options) {\n    return getDataFromNBA(params, \"player_career_stats\", { ...default_options,\n      ...options\n    });\n  },\n  playerAwards: function (params, options) {\n    return getDataFromNBA(params, \"player_awards\", { ...default_options,\n      ...options\n    });\n  },\n  playerBoxScores: function (params, options) {\n    return getDataFromNBA(params, \"player_box_scores\", { ...default_options,\n      ...options\n    });\n  },\n  playerTrackingShooting: function (params, options) {\n    return getDataFromNBA(params, \"player_tracking_shooting\", { ...default_options,\n      ...options\n    });\n  },\n  playerTrackingReb: function (params, options) {\n    return getDataFromNBA(params, \"player_tracking_reb\", { ...default_options,\n      ...options\n    });\n  },\n  playerTrackingPasses: function (params, options) {\n    return getDataFromNBA(params, \"player_tracking_passes\", { ...default_options,\n      ...options\n    });\n  },\n  playerTrackingDefense: function (params, options) {\n    return getDataFromNBA(params, \"player_tracking_defense\", { ...default_options,\n      ...options\n    });\n  },\n  playerMatchups: function (params, options) {\n    return getDataFromNBA(params, \"player_matchups\", { ...default_options,\n      ...options\n    });\n  },\n  playerInfo: function (params, options) {\n    return getDataFromNBA(params, \"player_info\", { ...default_options,\n      ...options\n    });\n  },\n  fantasyStats: function (params, options) {\n    return getDataFromNBA(params, \"fantasy_stats\", { ...default_options,\n      ...options\n    });\n  },\n  leagueLeaders: function (params, options) {\n    return getDataFromNBA(params, \"league_leaders\", {\n      formatted: false,\n      parameters: false\n    });\n  },\n  getPlayerID: function (playerName) {\n    return players[playerName];\n  },\n  getTeamID: function (teamName) {\n    return teams[teamName];\n  },\n  getTeamLogoURLs: function (teamAbr) {\n    return ['https://stats.nba.com/media/img/teams/logos/' + teamAbr + '_logo.svg', 'https://cdn.nba.net/assets/logos/teams/secondary/web/' + teamAbr + '.svg'];\n  },\n  getPlayerHeadshotURL: function (params) {\n    return 'https://ak-static.cms.nba.com/wp-content/uploads/headshots/nba/' + params.TeamID + '/2019/260x190/' + params.PlayerID + '.png';\n  },\n  transactions: function () {\n    return getDataFromNBA({}, \"transactions\", {\n      formatted: false,\n      parameters: false\n    });\n  },\n  schedule: function (year) {\n    return new Promise(function (resolve, reject) {\n      axios.get(`https://data.nba.com/data/10s/v2015/json/mobile_teams/nba/${year}/league/00_full_schedule_week.json`).then(function (res) {\n        resolve(res.data);\n      }).catch(function (err) {\n        reject(err);\n      });\n    });\n  },\n  getPBPVideoURL: function (vid) {\n    return new Promise(function (resolve, reject) {\n      var url = 'https://stats.nba.com/stats/videoevents?GameEventID=' + vid.EventNum + '&GameID=' + vid.GameID;\n\n      if (typeof window === \"undefined\") {\n        axios.get(url).then(res => {\n          var vidId = res.data.resultSets.Meta.videoUrls[0].uuid;\n          return axios.get('https://secure.nba.com/video/wsc/league/' + vidId + '.secure.xml');\n        }).then(res => {\n          var xmlData = new DOMParser().parseFromString(res.data, \"text/xml\");\n          var files = xmlData.documentElement.getElementsByTagName('file');\n\n          if (vid.Size) {\n            for (var i = 3; i < files.length; i++) {\n              if (files[i].firstChild.data.includes(vid.Size)) {\n                resolve(files[i].firstChild.data);\n                break;\n              }\n            }\n          } else resolve(files[5].firstChild.data);\n        }).catch(function (err) {\n          console.log(err);\n          reject(err);\n        });\n      } else {\n        jsonp(url, null, (err, vidSet) => {\n          var vidId = vidSet.resultSets.Meta.videoUrls[0].uuid;\n          axios.get('https://secure.nba.com/video/wsc/league/' + vidId + '.secure.xml').then(function (res) {\n            var xmlData = new DOMParser().parseFromString(res.data, \"text/xml\");\n            var files = xmlData.documentElement.getElementsByTagName('file');\n\n            if (vid.Size) {\n              for (var i = 3; i < files.length; i++) {\n                if (files[i].firstChild.data.includes(vid.Size)) {\n                  resolve(files[i].firstChild.data);\n                  break;\n                }\n              }\n            } else resolve(files[5].firstChild.data);\n          }).catch(function (err) {\n            console.log(err);\n            reject(err);\n          });\n        });\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/Users/RaymondLin/Desktop/Projects/nba_datavis/node_modules/nba-api-client/index.js"],"names":["path","require","DOMParser","axios","stat_endpoints","teams","players","jsonp","default_options","formatted","parameters","generateURL","params","endpoint","values","url","param_names","Object","keys","i","length","formatData","json","options","data","result_set","resultSets","merged","rowSet","multipleRowSets","j","temp","k","headers","name","getDataFromNBA","Promise","resolve","reject","window","get","then","res","catch","err","module","exports","teamDetails","teamRoster","leagueTeamTrackingShots","leagueTeamGeneralStats","allPlayersList","franchiseLeaders","franchiseLeadersRank","teamGeneralSplits","teamYearSplits","teamPerformanceSplits","teamClutchSplits","teamInGameSplits","teamLastNGamesSplits","teamOpponentSplits","teamShootingSplits","teamLineups","teamPlayerStats","teamPlayerOnOffDetails","teamPlayerOnOffRatings","teamTrackingShots","teamTrackingReb","teamTrackingPasses","teamBoxScoresTraditional","teamBoxScoresAdvanced","teamYearByYearStats","teamPlayerMatchups","leagueTeamDefenseStats","leagueTeamShootingStats","leagueTeamOpponentShooting","leagueTeamHustleStats","leagueTeamEstimatedAdvancedStats","leagueTeamClutchStats","leaguePlayerGeneralStats","leaguePlayerEstimatedAdvancedStats","leaguePlayerClutchStats","leaguePlayerTrackingStats","leaguePlayerShootingDefense","leaguePlayerTrackingShooting","leaguePlayerBoxScoresTraditional","leaguePlayerBoxScoresAdvanced","leaguePlayerShotLocations","leaguePlayerShotLocationDefense","leaguePlayerHustleStats","leaguePlayerBioStats","scoreboard","boxScoreTraditional","boxScoreAdvanced","boxScoreSummary","boxScoreScoring","boxScoreMisc","boxScoreUsage","boxScoreFourFactors","boxScorePlayerTracking","boxScoreHustle","boxScoreDefense","boxScoreMatchups","playByPlay","winProbability","infographicFanduelPlayer","leagueStandings","draftHistory","draftCombineSpotUpShooting","draftCombineNonStationaryShooting","draftCombineDrillResults","draftCombinePlayerAnthro","franchiseHistory","playerGameStreakFinder","teamGameStreakFinder","leagueGameFinder","playerSplitsByYear","playerSplits","playerCareerStats","playerAwards","playerBoxScores","playerTrackingShooting","playerTrackingReb","playerTrackingPasses","playerTrackingDefense","playerMatchups","playerInfo","fantasyStats","leagueLeaders","getPlayerID","playerName","getTeamID","teamName","getTeamLogoURLs","teamAbr","getPlayerHeadshotURL","TeamID","PlayerID","transactions","schedule","year","getPBPVideoURL","vid","EventNum","GameID","vidId","Meta","videoUrls","uuid","xmlData","parseFromString","files","documentElement","getElementsByTagName","Size","firstChild","includes","console","log","vidSet"],"mappings":"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","sourcesContent":["const path = require('path');\r\nconst DOMParser = require('xmldom').DOMParser;\r\nconst axios = require('axios');\r\nconst stat_endpoints = require('./data/endpoints.json');\r\nconst teams = require('./data/teams.json');\r\nconst players = require('./data/players.json');\r\nconst jsonp = require('jsonp');\r\n\r\nvar default_options = {formatted: true, parameters: false}\r\n\r\ngenerateURL = (params, endpoint) => {\r\n\tvar values = ({...stat_endpoints[endpoint].params, ...params});\r\n\tvar url = stat_endpoints[endpoint].url + \"?\";\r\n\tvar param_names = Object.keys(values);\r\n\t\r\n\tfor(var i = 0; i < param_names.length; i++){\r\n\t\turl = url + param_names[i] + \"=\" + values[param_names[i]] + \"&\";  \r\n\t}\r\n\r\n\treturn url;\r\n}\r\n\r\nformatData = (json, options) => {\r\n\r\n\tvar data = {};\r\n\tvar parameters = json.parameters;\r\n\r\n\tif(options.formatted){\r\n\t\tvar result_set = json.resultSets;\r\n\t\tfor(i in result_set){\r\n\t\t\tvar merged = {};\r\n\t\t\tif(result_set[i].rowSet.length !== 1){\r\n\t\t\t\tvar multipleRowSets = {};\r\n\t\t\t\tfor(j in result_set[i].rowSet){\r\n\t\t\t\t\tvar temp = {};\r\n\t\t\t\t\tfor(k in result_set[i].headers){\r\n\t\t\t\t\t\ttemp[result_set[i].headers[k]] = result_set[i].rowSet[j][k];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmultipleRowSets[j] = temp;\r\n\t\t\t\t}\r\n\t\t\t\tdata[result_set[i].name] = multipleRowSets;\t\r\n\t\t\t} else {\r\n\t\t\t\tfor(j in result_set[i].headers){\r\n\t\t\t\t\tmerged[result_set[i].headers[j]] = result_set[i].rowSet[0][j];\r\n\t\t\t\t}\r\n\t\t\t\tdata[result_set[i].name] = merged;\r\n\t\t\t}\r\n\t\t}\r\n\t} else data = json;\r\n\tif (options.parameters) return {data, parameters};\r\n\telse return data;\r\n}\r\n\r\ngetDataFromNBA = (params, endpoint, options) => {\r\n\tvar headers = {\r\n\t\t'Host': 'stats.nba.com',\r\n\t\t'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0',\r\n\t\t'Accept': 'application/json, text/plain, */*',\r\n\t\t'Accept-Language': 'en-US,en;q=0.5',\r\n\t\t'Referer': 'https://stats.nba.com/',\r\n\t\t'Accept-Encoding': 'gzip, deflate, br',\r\n\t\t'Connection': 'keep-alive',\r\n\t\t'x-nba-stats-origin': 'stats',\r\n\t\t'x-nba-stats-token': 'true'\r\n\t};\r\n\r\n\tvar url = generateURL(params, endpoint);\r\n\t\r\n\treturn new Promise(function(resolve, reject){\r\n\t\tif(typeof window === 'undefined'){\r\n\t\t\taxios.get(url, {headers}).then(function(res){\r\n\t\t\t\tresolve(formatData(res.data, options))\r\n\t\t\t}).catch(function(err){\r\n\t\t\t\treject(err)\r\n\t\t\t});\t\r\n\t\t} else {\r\n\t\t\tjsonp(url, null, (err, data) => {\r\n\t\t\t\tif(!err) resolve(formatData(data, options))\r\n\t\t\t\t\telse reject(err)\r\n\t\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\nmodule.exports = {\r\n\r\n\tteamDetails: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_details\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamRoster: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_roster\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleagueTeamTrackingShots: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_team_tracking_shots\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleagueTeamGeneralStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_team_general_stats\", {...default_options, ...options} );\r\n\t},\r\n\r\n\tallPlayersList: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"all_players_list\", {...default_options, ...options});\r\n\t},\r\n\r\n\tfranchiseLeaders: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"franchise_leaders\", {...default_options, ...options});\r\n\t},\r\n\r\n\tfranchiseLeadersRank: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"franchise_leaders_rank\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamGeneralSplits: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_general_splits\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamYearSplits: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_year_splits\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamPerformanceSplits: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_performance_splits\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamClutchSplits: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_clutch_splits\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamInGameSplits: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_in_game_splits\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamLastNGamesSplits: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_lastngames_splits\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamOpponentSplits: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_opponent_splits\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamShootingSplits: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_shooting_splits\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamLineups: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_lineups\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamPlayerStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_player_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamPlayerOnOffDetails: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_player_on_off_details\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamPlayerOnOffRatings: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_player_on_off_ratings\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamTrackingShots: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_tracking_shots\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamTrackingReb: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_tracking_reb\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamTrackingPasses: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_tracking_passes\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamBoxScoresTraditional: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_box_scores_traditional\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamBoxScoresAdvanced: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_box_scores_advanced\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamYearByYearStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_year_by_year_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamPlayerMatchups: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_player_matchups\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleagueTeamDefenseStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_team_defense_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleagueTeamShootingStats: function(params,options){\r\n\t\treturn getDataFromNBA(params, \"league_team_shooting_stats\", {...default_options, ...options});\r\n\t}, \r\n\r\n\tleagueTeamOpponentShooting: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_team_opponent_shooting\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleagueTeamHustleStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_team_hustle_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleagueTeamEstimatedAdvancedStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_team_estimated_advanced_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleagueTeamClutchStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_team_clutch_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleaguePlayerGeneralStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_player_general_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleaguePlayerEstimatedAdvancedStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_player_estimated_advanced_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleaguePlayerClutchStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_player_clutch_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleaguePlayerTrackingStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_player_tracking_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleaguePlayerShootingDefense: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_player_shooting_defense\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleaguePlayerTrackingShooting: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_player_tracking_shooting\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleaguePlayerBoxScoresTraditional: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_player_box_scores_traditional\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleaguePlayerBoxScoresAdvanced: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_player_box_scores_advanced\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleaguePlayerShotLocations: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_player_shot_locations\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleaguePlayerShotLocationDefense: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_player_shot_location_defense\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleaguePlayerHustleStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_player_hustle_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleaguePlayerBioStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_player_bio_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tscoreboard: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"scoreboard\", {...default_options, ...options});\r\n\t},\r\n\r\n\tboxScoreTraditional: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"box_score_traditional\", {...default_options, ...options});\r\n\t},\r\n\r\n\tboxScoreAdvanced: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"box_score_advanced\", {...default_options, ...options});\r\n\t},\r\n\r\n\tboxScoreSummary: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"box_score_summary\", {...default_options, ...options});\r\n\t},\r\n\r\n\tboxScoreScoring: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"box_score_scoring\", {...default_options, ...options});\r\n\t},\r\n\r\n\tboxScoreMisc: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"box_score_misc\", {...default_options, ...options});\r\n\t},\r\n\r\n\tboxScoreUsage: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"box_score_usage\", {...default_options, ...options});\r\n\t},\r\n\r\n\tboxScoreFourFactors: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"box_score_four_factors\", {...default_options, ...options});\r\n\t},\r\n\r\n\tboxScorePlayerTracking: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"box_score_player_tracking\", {...default_options, ...options});\r\n\t},\r\n\r\n\tboxScoreHustle: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"box_score_hustle\", {...default_options, ...options});\r\n\t},\r\n\r\n\tboxScoreDefense: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"box_score_defense\", {...default_options, ...options});\r\n\t},\r\n\r\n\tboxScoreMatchups: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"box_score_matchups\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayByPlay: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"play_by_play\", {...default_options, ...options});\r\n\t},\r\n\r\n\twinProbability: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"win_probability\", {...default_options, ...options});\r\n\t},\r\n\r\n\tinfographicFanduelPlayer: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"infographic_fanduel_player\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleagueStandings: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_standings\", {...default_options, ...options});\r\n\t},\r\n\r\n\tdraftHistory: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"draft_history\", {...default_options, ...options});\r\n\t},\r\n\r\n\tdraftCombineSpotUpShooting: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"draft_combine_spot_up_shooting\", {...default_options, ...options});\r\n\t},\r\n\r\n\tdraftCombineNonStationaryShooting: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"draft_combine_nonstationary_shooting\", {...default_options, ...options});\r\n\t},\r\n\r\n\tdraftCombineDrillResults: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"draft_combine_drill_results\", {...default_options, ...options});\r\n\t},\r\n\r\n\tdraftCombinePlayerAnthro: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"draft_combine_player_anthro\", {...default_options, ...options});\r\n\t},\r\n\r\n\tfranchiseHistory: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"franchise_history\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayerGameStreakFinder: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"player_game_streak_finder\", {...default_options, ...options});\r\n\t},\r\n\r\n\tteamGameStreakFinder: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"team_game_streak_finder\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleagueGameFinder: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_game_finder\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayerSplitsByYear: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"player_splits_by_year\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayerSplits: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"player_splits\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayerCareerStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"player_career_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayerAwards: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"player_awards\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayerBoxScores: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"player_box_scores\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayerTrackingShooting: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"player_tracking_shooting\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayerTrackingReb: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"player_tracking_reb\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayerTrackingPasses: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"player_tracking_passes\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayerTrackingDefense: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"player_tracking_defense\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayerMatchups: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"player_matchups\", {...default_options, ...options});\r\n\t},\r\n\r\n\tplayerInfo: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"player_info\", {...default_options, ...options});\r\n\t},\r\n\r\n\tfantasyStats: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"fantasy_stats\", {...default_options, ...options});\r\n\t},\r\n\r\n\tleagueLeaders: function(params, options){\r\n\t\treturn getDataFromNBA(params, \"league_leaders\", {formatted: false, parameters: false});\r\n\t},\r\n\r\n\tgetPlayerID: function(playerName){\r\n\t\treturn players[playerName];\r\n\t},\r\n\r\n\tgetTeamID: function(teamName){\r\n\t\treturn teams[teamName];\r\n\t},\t\t\r\n\r\n\tgetTeamLogoURLs: function(teamAbr){\r\n\t\treturn ['https://stats.nba.com/media/img/teams/logos/' + teamAbr + '_logo.svg',\r\n\t\t'https://cdn.nba.net/assets/logos/teams/secondary/web/' + teamAbr + '.svg'];\r\n\t},\r\n\r\n\tgetPlayerHeadshotURL: function(params){\r\n\t\treturn 'https://ak-static.cms.nba.com/wp-content/uploads/headshots/nba/' \r\n\t\t+ params.TeamID + '/2019/260x190/' + params.PlayerID + '.png';\r\n\t},\r\n\r\n\ttransactions: function(){\r\n\t\treturn getDataFromNBA({}, \"transactions\", {formatted: false, parameters: false});\r\n\t},\r\n\r\n\tschedule: function(year){\r\n\t\treturn new Promise(function(resolve, reject){\r\n\t\t\taxios.get(`https://data.nba.com/data/10s/v2015/json/mobile_teams/nba/${year}/league/00_full_schedule_week.json`)\r\n\t\t\t.then(function(res){\r\n\t\t\t\tresolve(res.data)\r\n\t\t\t}).catch(function(err){\r\n\t\t\t\treject(err)\r\n\t\t\t})\r\n\t\t});\r\n\t},\r\n\r\n\tgetPBPVideoURL: function(vid){\r\n\t\treturn new Promise(function(resolve, reject){\r\n\t\t\tvar url = 'https://stats.nba.com/stats/videoevents?GameEventID=' + vid.EventNum + '&GameID=' + vid.GameID;\r\n\t\t\tif(typeof window === \"undefined\"){\r\n\t\t\t\taxios.get(url)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tvar vidId = res.data.resultSets.Meta.videoUrls[0].uuid;\r\n\t\t\t\t\treturn axios.get('https://secure.nba.com/video/wsc/league/' + vidId + '.secure.xml');\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tvar xmlData = new DOMParser().parseFromString(res.data, \"text/xml\");\r\n\t\t\t\t\tvar files = xmlData.documentElement.getElementsByTagName('file');\r\n\t\t\t\t\tif(vid.Size){\r\n\t\t\t\t\t\tfor(var i = 3; i < files.length; i++){\r\n\t\t\t\t\t\t\tif(files[i].firstChild.data.includes(vid.Size)){\r\n\t\t\t\t\t\t\t\tresolve(files[i].firstChild.data);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t} else resolve(files[5].firstChild.data);\r\n\t\t\t\t}) \r\n\t\t\t\t.catch(function(err){\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\treject(err)\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tjsonp(url, null, (err, vidSet) => {\r\n\t\t\t\t\tvar vidId = vidSet.resultSets.Meta.videoUrls[0].uuid;\r\n\t\t\t\t\taxios.get('https://secure.nba.com/video/wsc/league/' + vidId + '.secure.xml').then(function(res){\r\n\t\t\t\t\t\tvar xmlData = new DOMParser().parseFromString(res.data, \"text/xml\");\r\n\t\t\t\t\t\tvar files = xmlData.documentElement.getElementsByTagName('file');\r\n\t\t\t\t\t\tif(vid.Size){\r\n\t\t\t\t\t\t\tfor(var i = 3; i < files.length; i++){\r\n\t\t\t\t\t\t\t\tif(files[i].firstChild.data.includes(vid.Size)){\r\n\t\t\t\t\t\t\t\t\tresolve(files[i].firstChild.data);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t} else resolve(files[5].firstChild.data);\r\n\t\t\t\t\t}).catch(function(err){\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t});\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"script"}